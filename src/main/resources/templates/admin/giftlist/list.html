<!DOCTYPE html>
<th:block xmlns="http://www.w3.org/1999/xhtml"
          xmlns:th="http://www.thymeleaf.org"
          xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
          layout:decorate="~{layout/admin/main.html}">

    <th:block layout:fragment="content">
        <div class="col-xl-9 col-lg-12 mb-4 mx-auto">
            <h1 class="h3 mb-2 text-gray-800" th:text="#{admin.gift-lists.title}">My Lists</h1>
            <p class="mb-4" th:text="#{admin.gift-lists.description}">Description</p>

            <div class="card shadow">
                <div class="card-header py-3">
                    <a class="btn btn-primary float-right" th:href="${newGiftListUri}"
                       th:text="#{admin.gift-lists.action.new-list}">
                        New list
                    </a>
                </div>

                <div class="card-body">

                    <th:block th:if="${#lists.isEmpty(giftLists)}">
                        <th:block th:insert="~{layout/admin/empty-space :: empty-space(
                                        emptySpaceTitle = #{admin.gift-lists.empty-space.title},
                                        emptySpaceDescription = #{admin.gift-lists.empty-space.description},
                                        emptySpaceActionText = #{admin.gift-lists.empty-space.action-text},
                                        emptySpaceActionUri = ${newGiftListUri},
                            )}"/>
                    </th:block>


                    <th:block th:unless="${#lists.isEmpty(giftLists)}">
                        <div class="table-responsive">
                            <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
                                <thead>
                                <tr>
                                    <th th:text="#{admin.gift-lists.table.head.name}">Name</th>
                                    <th th:text="#{admin.gift-lists.table.head.active}">Active</th>
                                    <th th:text="#{admin.gift-lists.table.head.created-at}">Created at</th>
                                    <th th:text="#{admin.gift-lists.table.head.gifts}">Gifts</th>
                                    <th th:text="#{admin.gift-lists.table.head.guests}">Guests</th>
                                    <th></th>
                                </tr>
                                </thead>

                                <tbody>
                                <th:block th:each="giftList : ${giftLists}">
                                    <tr>
                                        <td th:text="${giftList.name}">Name</td>
                                        <td th:text="${giftList.active} ? #{yes} : #{no}">Active</td>
                                        <td th:text="${#temporals.format(giftList.createdAt, dateTimeFormat)}">
                                            Created at
                                        </td>
                                        <td>
                                            <th:block th:if="${giftList.giftQuantity == 0}">--</th:block>
                                            <th:block th:if="${giftList.giftQuantity > 0}"
                                                      th:text="${giftList.giftQuantity}">
                                                Gifts
                                            </th:block>
                                        </td>
                                        <td>
                                            <th:block th:if="${giftList.guestQuantity == 0}">--</th:block>
                                            <th:block th:if="${giftList.guestQuantity > 0}"
                                                      th:text="${giftList.guestQuantity}">
                                                Guests
                                            </th:block>
                                        </td>
                                        <td>
                                            <a th:href="@{/admin/my-gift-lists/{giftListId} (giftListId = ${giftList.giftListId})}"
                                               th:text="#{admin.gift-lists.table.body.action.view}">
                                                View
                                            </a>
                                        </td>
                                    </tr>
                                </th:block>
                                </tbody>
                            </table>
                        </div>
                    </th:block>

                </div>
            </div>
        </div>
    </th:block>
</th:block>
